"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_src_lib_provider_replicate_ts";
exports.ids = ["_rsc_src_lib_provider_replicate_ts"];
exports.modules = {

/***/ "(rsc)/./src/lib/provider/replicate.ts":
/*!***************************************!*\
  !*** ./src/lib/provider/replicate.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   runReplicate: () => (/* binding */ runReplicate)\n/* harmony export */ });\n/* harmony import */ var replicate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! replicate */ \"(rsc)/./node_modules/replicate/index.js\");\n/* harmony import */ var replicate__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(replicate__WEBPACK_IMPORTED_MODULE_0__);\n\nconst DEFAULTS = {\n    steps: 32,\n    guidance: 4.2,\n    aspect: \"3:4\",\n    megapixels: \"1\",\n    lora_scale: 1\n};\nasync function runReplicate({ prompt, seed, steps, guidance, aspect, megapixels, lora_scale, signal }) {\n    const token = process.env.REPLICATE_API_TOKEN;\n    const model = process.env.REPLICATE_MODEL;\n    console.log(\"[replicate] env set:\", {\n        hasToken: Boolean(token),\n        hasModel: Boolean(model)\n    });\n    if (!token || !model) throw new Error(\"Missing Replicate env vars\");\n    const replicate = new (replicate__WEBPACK_IMPORTED_MODULE_0___default())({\n        auth: token,\n        userAgent: \"sacred-styles-web\"\n    });\n    const input = {\n        prompt,\n        seed: seed ?? 89,\n        num_inference_steps: steps ?? DEFAULTS.steps,\n        guidance_scale: guidance ?? DEFAULTS.guidance,\n        aspect_ratio: aspect ?? DEFAULTS.aspect,\n        megapixels: megapixels ?? DEFAULTS.megapixels,\n        lora_scale: lora_scale ?? DEFAULTS.lora_scale,\n        num_outputs: 1,\n        output_format: \"webp\",\n        output_quality: 80\n    };\n    const output = await replicate.run(model, {\n        input\n    });\n    const imageUrl = output[0];\n    return {\n        imageUrl,\n        meta: {\n            steps: DEFAULTS.steps,\n            guidance: DEFAULTS.guidance,\n            aspect: DEFAULTS.aspect\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3Byb3ZpZGVyL3JlcGxpY2F0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBa0M7QUFhbEMsTUFBTUMsV0FBVztJQUNmQyxPQUFPO0lBQ1BDLFVBQVU7SUFDVkMsUUFBUTtJQUNSQyxZQUFZO0lBQ1pDLFlBQVk7QUFDZDtBQUVPLGVBQWVDLGFBQWEsRUFBRUMsTUFBTSxFQUFFQyxJQUFJLEVBQUVQLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxNQUFNLEVBQUVDLFVBQVUsRUFBRUMsVUFBVSxFQUFFSSxNQUFNLEVBQVc7SUFJbkgsTUFBTUMsUUFBUUMsUUFBUUMsR0FBRyxDQUFDQyxtQkFBbUI7SUFDN0MsTUFBTUMsUUFBUUgsUUFBUUMsR0FBRyxDQUFDRyxlQUFlO0lBQ3pDQyxRQUFRQyxHQUFHLENBQUMsd0JBQXdCO1FBQ2xDQyxVQUFVQyxRQUFRVDtRQUNsQlUsVUFBVUQsUUFBUUw7SUFDcEI7SUFDQSxJQUFJLENBQUNKLFNBQVMsQ0FBQ0ksT0FBTyxNQUFNLElBQUlPLE1BQU07SUFFdEMsTUFBTUMsWUFBWSxJQUFJdkIsa0RBQVNBLENBQUM7UUFBRXdCLE1BQU1iO1FBQU9jLFdBQVc7SUFBb0I7SUFFOUUsTUFBTUMsUUFBaUM7UUFDckNsQjtRQUNBQyxNQUFNQSxRQUFRO1FBQ2RrQixxQkFBcUJ6QixTQUFTRCxTQUFTQyxLQUFLO1FBQzVDMEIsZ0JBQWdCekIsWUFBWUYsU0FBU0UsUUFBUTtRQUM3QzBCLGNBQWN6QixVQUFVSCxTQUFTRyxNQUFNO1FBQ3ZDQyxZQUFZQSxjQUFjSixTQUFTSSxVQUFVO1FBQzdDQyxZQUFZQSxjQUFjTCxTQUFTSyxVQUFVO1FBQzdDd0IsYUFBYTtRQUNiQyxlQUFlO1FBQ2ZDLGdCQUFnQjtJQUNsQjtJQUVBLE1BQU1DLFNBQVUsTUFBTVYsVUFBVVcsR0FBRyxDQUFDbkIsT0FBTztRQUFFVztJQUFNO0lBQ25ELE1BQU1TLFdBQVdGLE1BQU0sQ0FBQyxFQUFFO0lBQzFCLE9BQU87UUFBRUU7UUFBVUMsTUFBTTtZQUFFbEMsT0FBT0QsU0FBU0MsS0FBSztZQUFFQyxVQUFVRixTQUFTRSxRQUFRO1lBQUVDLFFBQVFILFNBQVNHLE1BQU07UUFBQztJQUFFO0FBQzNHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2FjcmVkLXN0eWxlcy13ZWIvLi9zcmMvbGliL3Byb3ZpZGVyL3JlcGxpY2F0ZS50cz8wYjBhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZXBsaWNhdGUgZnJvbSAncmVwbGljYXRlJztcblxudHlwZSBSdW5BcmdzID0ge1xuICBwcm9tcHQ6IHN0cmluZztcbiAgc2VlZD86IG51bWJlcjtcbiAgc3RlcHM/OiBudW1iZXI7XG4gIGd1aWRhbmNlPzogbnVtYmVyO1xuICBhc3BlY3Q/OiAnMToxJyB8ICczOjQnIHwgJzQ6Myc7XG4gIG1lZ2FwaXhlbHM/OiAnMScgfCAnMS41JztcbiAgbG9yYV9zY2FsZT86IG51bWJlcjtcbiAgc2lnbmFsPzogQWJvcnRTaWduYWw7XG59O1xuXG5jb25zdCBERUZBVUxUUyA9IHtcbiAgc3RlcHM6IDMyLFxuICBndWlkYW5jZTogNC4yLFxuICBhc3BlY3Q6ICczOjQnIGFzIGNvbnN0LFxuICBtZWdhcGl4ZWxzOiAnMScgYXMgY29uc3QsXG4gIGxvcmFfc2NhbGU6IDFcbn07XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5SZXBsaWNhdGUoeyBwcm9tcHQsIHNlZWQsIHN0ZXBzLCBndWlkYW5jZSwgYXNwZWN0LCBtZWdhcGl4ZWxzLCBsb3JhX3NjYWxlLCBzaWduYWwgfTogUnVuQXJncyk6IFByb21pc2U8e1xuICBpbWFnZVVybDogc3RyaW5nO1xuICBtZXRhOiB7IHN0ZXBzOiBudW1iZXI7IGd1aWRhbmNlOiBudW1iZXI7IGFzcGVjdDogc3RyaW5nIH07XG59PiB7XG4gIGNvbnN0IHRva2VuID0gcHJvY2Vzcy5lbnYuUkVQTElDQVRFX0FQSV9UT0tFTjtcbiAgY29uc3QgbW9kZWwgPSBwcm9jZXNzLmVudi5SRVBMSUNBVEVfTU9ERUw7XG4gIGNvbnNvbGUubG9nKCdbcmVwbGljYXRlXSBlbnYgc2V0OicsIHtcbiAgICBoYXNUb2tlbjogQm9vbGVhbih0b2tlbiksXG4gICAgaGFzTW9kZWw6IEJvb2xlYW4obW9kZWwpXG4gIH0pO1xuICBpZiAoIXRva2VuIHx8ICFtb2RlbCkgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFJlcGxpY2F0ZSBlbnYgdmFycycpO1xuXG4gIGNvbnN0IHJlcGxpY2F0ZSA9IG5ldyBSZXBsaWNhdGUoeyBhdXRoOiB0b2tlbiwgdXNlckFnZW50OiAnc2FjcmVkLXN0eWxlcy13ZWInIH0pO1xuXG4gIGNvbnN0IGlucHV0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcbiAgICBwcm9tcHQsXG4gICAgc2VlZDogc2VlZCA/PyA4OSxcbiAgICBudW1faW5mZXJlbmNlX3N0ZXBzOiBzdGVwcyA/PyBERUZBVUxUUy5zdGVwcyxcbiAgICBndWlkYW5jZV9zY2FsZTogZ3VpZGFuY2UgPz8gREVGQVVMVFMuZ3VpZGFuY2UsXG4gICAgYXNwZWN0X3JhdGlvOiBhc3BlY3QgPz8gREVGQVVMVFMuYXNwZWN0LFxuICAgIG1lZ2FwaXhlbHM6IG1lZ2FwaXhlbHMgPz8gREVGQVVMVFMubWVnYXBpeGVscyxcbiAgICBsb3JhX3NjYWxlOiBsb3JhX3NjYWxlID8/IERFRkFVTFRTLmxvcmFfc2NhbGUsXG4gICAgbnVtX291dHB1dHM6IDEsXG4gICAgb3V0cHV0X2Zvcm1hdDogJ3dlYnAnLFxuICAgIG91dHB1dF9xdWFsaXR5OiA4MFxuICB9O1xuXG4gIGNvbnN0IG91dHB1dCA9IChhd2FpdCByZXBsaWNhdGUucnVuKG1vZGVsLCB7IGlucHV0IH0pKSBhcyBzdHJpbmdbXTtcbiAgY29uc3QgaW1hZ2VVcmwgPSBvdXRwdXRbMF07XG4gIHJldHVybiB7IGltYWdlVXJsLCBtZXRhOiB7IHN0ZXBzOiBERUZBVUxUUy5zdGVwcywgZ3VpZGFuY2U6IERFRkFVTFRTLmd1aWRhbmNlLCBhc3BlY3Q6IERFRkFVTFRTLmFzcGVjdCB9IH07XG59XG5cbiJdLCJuYW1lcyI6WyJSZXBsaWNhdGUiLCJERUZBVUxUUyIsInN0ZXBzIiwiZ3VpZGFuY2UiLCJhc3BlY3QiLCJtZWdhcGl4ZWxzIiwibG9yYV9zY2FsZSIsInJ1blJlcGxpY2F0ZSIsInByb21wdCIsInNlZWQiLCJzaWduYWwiLCJ0b2tlbiIsInByb2Nlc3MiLCJlbnYiLCJSRVBMSUNBVEVfQVBJX1RPS0VOIiwibW9kZWwiLCJSRVBMSUNBVEVfTU9ERUwiLCJjb25zb2xlIiwibG9nIiwiaGFzVG9rZW4iLCJCb29sZWFuIiwiaGFzTW9kZWwiLCJFcnJvciIsInJlcGxpY2F0ZSIsImF1dGgiLCJ1c2VyQWdlbnQiLCJpbnB1dCIsIm51bV9pbmZlcmVuY2Vfc3RlcHMiLCJndWlkYW5jZV9zY2FsZSIsImFzcGVjdF9yYXRpbyIsIm51bV9vdXRwdXRzIiwib3V0cHV0X2Zvcm1hdCIsIm91dHB1dF9xdWFsaXR5Iiwib3V0cHV0IiwicnVuIiwiaW1hZ2VVcmwiLCJtZXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/provider/replicate.ts\n");

/***/ })

};
;